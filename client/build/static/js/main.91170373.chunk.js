(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{100:function(e,t,a){},102:function(e,t,a){},104:function(e,t,a){},106:function(e,t,a){},108:function(e,t,a){},110:function(e,t,a){},112:function(e,t,a){},115:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),s=a(34),o=a.n(s),c=a(1),i=a(18),l=a(36),u=a(2),p=a(3),d=a(5),m=a(4),h=a(6),f=a(117),v=a(118),g=a(119),b=a(37),E=a.n(b)()(),y=a(11),_=a(7),O=a.n(_),k=a(9),N=a(8),j=a.n(N),C=function(){return function(){var e=Object(k.a)(O.a.mark(function e(t){var a;return O.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,j.a.get("/arena");case 3:a=e.sent,t({type:"FETCHED_LIST_OF_HEADPHONES",payload:a.data}),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),t(M(e.t0.response.data));case 10:case"end":return e.stop()}},e,this,[[0,7]])}));return function(t){return e.apply(this,arguments)}}()},T=function(e){return{type:"HEADPHONE_SELECTED",payload:e}},w=function(e){return function(t,a){var n=a().listOfHeadphones.find(function(t){return t.brandAndModel===e});t(T(n)),t({type:"HEADPHONE_SELECTED_USING_NAME_ONLY"})}},S=function(e){return function(){var t=Object(k.a)(O.a.mark(function t(a){var n;return O.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(!e.isMainPost){t.next=4;break}E.push("/posts/".concat(e._id)),t.next=15;break;case 4:return t.prev=4,t.next=7,j.a.post("/posts/find-main",{title:e.title});case 7:n=t.sent,console.log(n),E.push("/posts/".concat(n.data._id)),t.next=15;break;case 12:t.prev=12,t.t0=t.catch(4),a(M(t.t0.response.data));case 15:console.log("dispatched!"),a({type:"REDIRECTED_TO_MAIN_POST"});case 17:case"end":return t.stop()}},t,this,[[4,12]])}));return function(e){return t.apply(this,arguments)}}()},H=function(){return function(){var e=Object(k.a)(O.a.mark(function e(t){var a;return O.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,j.a.get("/forum");case 3:a=e.sent,t({type:"FETCHED_FORUM_POSTS",payload:a.data}),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),t(M(e.t0.response.data));case 10:case"end":return e.stop()}},e,this,[[0,7]])}));return function(t){return e.apply(this,arguments)}}()},x=function(e){return{type:"FORUM_SEARCH_TERM",payload:e}},A=function(e){return function(){var t=Object(k.a)(O.a.mark(function t(a){var n;return O.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,j.a.post("/forum/search",{term:e});case 3:n=t.sent,a({type:"FETCHED_UNPOPULATED_SEARCH_POSTS",payload:n.data}),t.next=10;break;case 7:t.prev=7,t.t0=t.catch(0),a(M(t.t0.response.data));case 10:case"end":return t.stop()}},t,this,[[0,7]])}));return function(e){return t.apply(this,arguments)}}()},P=function(e){return function(){var t=Object(k.a)(O.a.mark(function t(a){var n;return O.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,j.a.get("/posts/".concat(e));case 3:n=t.sent,a({type:"FETCHED_POST",payload:n.data}),t.next=10;break;case 7:t.prev=7,t.t0=t.catch(0),a(M(t.t0.response.data));case 10:case"end":return t.stop()}},t,this,[[0,7]])}));return function(e){return t.apply(this,arguments)}}()},R=function(e,t,a){return function(){var n=Object(k.a)(O.a.mark(function n(r){var s;return O.a.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,j.a.put("/posts/".concat(e),t);case 3:return s=n.sent,console.log(s),n.next=7,r(P(a));case 7:r({type:"UPDATED_POST"}),n.next=13;break;case 10:n.prev=10,n.t0=n.catch(0),r(M(n.t0.response.data));case 13:case"end":return n.stop()}},n,this,[[0,10]])}));return function(e){return n.apply(this,arguments)}}()},U=function(e){return function(){var t=Object(k.a)(O.a.mark(function t(a){var n;return O.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,j.a.get("/user/".concat(e));case 3:n=t.sent,a({type:"FETCHED_USER_PROFILE",payload:n.data}),t.next=10;break;case 7:t.prev=7,t.t0=t.catch(0),a(M(t.t0.response.data));case 10:case"end":return t.stop()}},t,this,[[0,7]])}));return function(e){return t.apply(this,arguments)}}()},M=function(e){return{type:"ERROR_MESSAGE",payload:e}},I=(a(74),function(){return r.a.createElement("div",{className:"landing"},r.a.createElement("h1",{className:"landing__website-title"},"HEADPHONES",r.a.createElement("br",null)," ARENA"))}),D=function(e){function t(){var e,a;Object(u.a)(this,t);for(var n=arguments.length,r=new Array(n),s=0;s<n;s++)r[s]=arguments[s];return(a=Object(d.a)(this,(e=Object(m.a)(t)).call.apply(e,[this].concat(r)))).onButtonClick=function(){a.props.logoutUser()},a}return Object(h.a)(t,e),Object(p.a)(t,[{key:"render",value:function(){return r.a.createElement("div",null,r.a.createElement("button",{onClick:this.onButtonClick},"Logout"))}}]),t}(r.a.Component),L=Object(c.b)(function(e){return{currentUser:e.currentUser}},{logoutUser:function(){return function(){var e=Object(k.a)(O.a.mark(function e(t){var a;return O.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,j.a.get("/logout");case 3:a=e.sent,E.go(0),t({type:"CURRENT_USER",payload:a.data}),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),t(M("Logout failed. You are stuck here forever haha!"));case 11:case"end":return e.stop()}},e,this,[[0,8]])}));return function(t){return e.apply(this,arguments)}}()}})(D),F=(a(76),function(e){function t(){var e,a;Object(u.a)(this,t);for(var n=arguments.length,r=new Array(n),s=0;s<n;s++)r[s]=arguments[s];return(a=Object(d.a)(this,(e=Object(m.a)(t)).call.apply(e,[this].concat(r)))).state={currentLocation:E.location.pathname},a}return Object(h.a)(t,e),Object(p.a)(t,[{key:"componentDidMount",value:function(){var e=this;E.listen(function(t){e.setState({currentLocation:t.pathname})})}},{key:"render",value:function(){var e=this.props.user,t=this.state.currentLocation;return r.a.createElement("div",{className:"navigation-bar"},e?r.a.createElement(L,null):null,r.a.createElement("div",{className:"navigation-bar-icon ".concat("/arena"===t||"/"===t?"navigation-bar--active":"navigation-bar--inactive"),onClick:function(){return E.push("/arena")}},r.a.createElement("img",{src:"https://i.imgur.com/Urok6wJ.png",alt:"To Arena Page"}),r.a.createElement("div",{className:"navigation-bar--page-name"},"ARENA")),r.a.createElement("div",{className:"navigation-bar-icon ".concat(["/forum","/posts"].some(function(e){return t.includes(e)||"/"===t})?"navigation-bar--active":"navigation-bar--inactive"),onClick:function(){return E.push("/forum")}},r.a.createElement("img",{src:"https://i.imgur.com/Spthb5x.png",alt:"To Forum Page"}),r.a.createElement("div",{className:"navigation-bar--page-name"},"FORUM")),r.a.createElement("div",{className:"navigation-bar-icon ".concat(["/user","/login"].some(function(e){return t.includes(e)||"/"===t})?"navigation-bar--active":"navigation-bar--inactive"),onClick:function(){return E.push(e?"/user/".concat(e.id):"/login")}},r.a.createElement("img",{src:"https://i.imgur.com/Iv5jEih.png",alt:"To Login Page or Dashboard"}),r.a.createElement("div",{className:"navigation-bar--page-name"},"ACCOUNT")))}}]),t}(r.a.Component)),G=Object(c.b)(function(e){return{user:e.currentUser}})(F),B=(a(78),function(e){function t(){var e,a;Object(u.a)(this,t);for(var n=arguments.length,r=new Array(n),s=0;s<n;s++)r[s]=arguments[s];return(a=Object(d.a)(this,(e=Object(m.a)(t)).call.apply(e,[this].concat(r)))).state={currentError:""},a.removeErrorAfterTimeOut=function(){setTimeout(function(){return a.props.addGlobalError("")},5e3)},a}return Object(h.a)(t,e),Object(p.a)(t,[{key:"componentDidUpdate",value:function(){this.props.globalError!==this.state.currentError&&(this.props.globalError&&this.removeErrorAfterTimeOut(),this.setState({currentError:this.props.globalError}))}},{key:"render",value:function(){var e=this.props.globalError;return e?r.a.createElement("div",{className:"global-error"},e):r.a.createElement("div",null)}}]),t}(r.a.Component)),q=Object(c.b)(function(e){return{globalError:e.globalError}},{addGlobalError:M})(B),V=function(e){function t(){return Object(u.a)(this,t),Object(d.a)(this,Object(m.a)(t).apply(this,arguments))}return Object(h.a)(t,e),Object(p.a)(t,[{key:"manageFirstHeadphoneStyle",value:function(){var e=this.props,t=e.headphone;return e.firstHeadphone===t.brandAndModel?{borderLeft:"6px solid Black",marginLeft:"calc(-.3rem - 6px)",paddingLeft:".3rem",boxSizing:"border-box"}:null}},{key:"render",value:function(){var e=this.props,t=e.headphone,a=e.selectHeadphone;return r.a.createElement("div",{className:"headphone",style:this.manageFirstHeadphoneStyle(),onClick:function(){return a(t)}},r.a.createElement("div",null,r.a.createElement("div",{className:"headphone__brand"},t.brand.toUpperCase())),r.a.createElement("div",null,r.a.createElement("div",{className:"headphone__model"},t.model.toUpperCase())))}}]),t}(r.a.Component),z=Object(c.b)(null,{selectHeadphone:T})(V),W=function(e){function t(){var e,a;Object(u.a)(this,t);for(var n=arguments.length,r=new Array(n),s=0;s<n;s++)r[s]=arguments[s];return(a=Object(d.a)(this,(e=Object(m.a)(t)).call.apply(e,[this].concat(r)))).state={sequencedList:null,firstHeadphone:""},a.shiftHeadphonesAtInterval=function(){var e=Object(y.a)(a.state.sequencedList),t=e.shift(),n=Object(y.a)(e).concat([t]);a.setState({sequencedList:n})},a}return Object(h.a)(t,e),Object(p.a)(t,[{key:"componentDidMount",value:function(){this.props.fetchListOfHeadphones()}},{key:"componentDidUpdate",value:function(){var e=this;this.props.listOfHeadphones&&!this.state.sequencedList&&this.setState({sequencedList:Object(y.a)(this.props.listOfHeadphones),firstHeadphone:this.props.listOfHeadphones[0].brandAndModel},function(){e.intervalId=setInterval(e.shiftHeadphonesAtInterval,2500)})}},{key:"componentWillUnmount",value:function(){clearInterval(this.intervalId)}},{key:"renderListOfHeadphones",value:function(){var e=this;return this.state.sequencedList?this.state.sequencedList.map(function(t){return r.a.createElement(z,{headphone:t,key:t._id,firstHeadphone:e.state.firstHeadphone})}):null}},{key:"render",value:function(){return this.props.listOfHeadphones?r.a.createElement("div",{className:"headphone-list"},this.renderListOfHeadphones()):r.a.createElement("div",{className:"headphone-list__loading"},r.a.createElement("img",{className:"loading-image",src:"https://cdn.dribbble.com/users/924068/screenshots/3757746/dribbble.gif",alt:"loading"}))}}]),t}(r.a.Component),Y=Object(c.b)(function(e){return{listOfHeadphones:e.listOfHeadphones}},{fetchListOfHeadphones:C})(W),J=function(e){var t=e.headphone;return r.a.createElement("div",{className:"overview"},r.a.createElement("div",{className:t.tags.length>0?"overview__tags":""},function(e){if(!e)return null;var t=e.tags.reduce(function(e,t){return Object(y.a)(e).concat(Object(y.a)(t.tags))},[]),a=t.reduce(function(e,t){return e.includes(t)?e:Object(y.a)(e).concat([t])},[]).map(function(e){return{tagName:e,count:t.filter(function(t){return t===e}).length}});return a.sort(function(e,t){return t.count-e.count}),a.slice(0,9).map(function(e){return r.a.createElement("span",{key:e.tagName,className:"overview__tag"},e.tagName.toUpperCase())})}(t)),r.a.createElement("p",{className:"overview__description"},t.officialDescription))},K=function(e){var t=e.headphone.specification;return r.a.createElement("div",{className:"specification"},r.a.createElement("div",null,"Impedance"),r.a.createElement("div",null,t.impedance),r.a.createElement("div",null,"Connector"),r.a.createElement("div",null,t.connector),r.a.createElement("div",null,"Portability"),r.a.createElement("div",null,t.portability),r.a.createElement("div",null,"Color"),r.a.createElement("div",null,t.color),r.a.createElement("div",null,"Cable"),r.a.createElement("div",null,t.cable),r.a.createElement("div",null,"Driver"),r.a.createElement("div",null,t.driver),r.a.createElement("div",null,"Sensitivity"),r.a.createElement("div",null,t.sensitivity),r.a.createElement("div",null,"Frequency Response"),r.a.createElement("div",null,t.frequencyResponse),r.a.createElement("div",null,"Classification"),r.a.createElement("div",null,t.classification),r.a.createElement("div",null,"Maximum Power"),r.a.createElement("div",null,t.maximumPower),r.a.createElement("div",null,"Weight"),r.a.createElement("div",null,t.weight),r.a.createElement("div",null,"Included In The Box"),r.a.createElement("div",null,t.inTheBox))},X=a(12),Q=a.n(X),Z=function(e){function t(){return Object(u.a)(this,t),Object(d.a)(this,Object(m.a)(t).apply(this,arguments))}return Object(h.a)(t,e),Object(p.a)(t,[{key:"componentDidMount",value:function(){var e=this.props.headphone,t=e.brandAndModel,a=e.model;this.props.fetchTopPosts({brandAndModel:t,model:a})}},{key:"renderTopPosts",value:function(e){var t=this;return e.map(function(e){return r.a.createElement("div",{key:e._id,className:"top-posts__post",onClick:function(){return t.props.redirectToMainPost(e)}},r.a.createElement("div",{className:"top-posts__title"},e.title),r.a.createElement("div",{className:"top-posts__content"},"".concat(e.content)),r.a.createElement("div",{className:"top-posts__date"},r.a.createElement("div",null,t.manageVoteIcon(e),e.vote.count),r.a.createElement(Q.a,{fromNow:!0},e.created)))})}},{key:"manageVoteIcon",value:function(e){return e.vote.count>=0?r.a.createElement("i",{className:"fas fa-angle-up"}):r.a.createElement("i",{className:"fas fa-angle-down"})}},{key:"render",value:function(){var e=this.props.topPosts;return e?r.a.createElement("div",{className:"top-posts"},r.a.createElement("h4",null,"RELATED POSTS")," ",this.renderTopPosts(e)):r.a.createElement("div",null)}}]),t}(r.a.Component),$=Object(c.b)(function(e,t){var a=e.topPosts.find(function(e){return e.headphone===t.headphone.brandAndModel});return{topPosts:a?a.topPosts:null}},{fetchTopPosts:function(e){return function(){var t=Object(k.a)(O.a.mark(function t(a){var n;return O.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,j.a.post("/forum/topposts",e);case 3:n=t.sent,a({type:"FETCHED_TOP_POSTS",payload:n.data}),t.next=10;break;case 7:t.prev=7,t.t0=t.catch(0),a(M(t.t0.response.data));case 10:case"end":return t.stop()}},t,this,[[0,7]])}));return function(e){return t.apply(this,arguments)}}()},redirectToMainPost:S})(Z),ee=function(e){function t(){var e,a;Object(u.a)(this,t);for(var n=arguments.length,r=new Array(n),s=0;s<n;s++)r[s]=arguments[s];return(a=Object(d.a)(this,(e=Object(m.a)(t)).call.apply(e,[this].concat(r)))).state={page:1},a}return Object(h.a)(t,e),Object(p.a)(t,[{key:"componentDidMount",value:function(){this.props.fetchFullHeadphone(this.props.headphone._id)}},{key:"renderCurrentPage",value:function(e){var t=this.state.page;return 1===t?r.a.createElement(J,{headphone:e}):2===t?r.a.createElement(K,{headphone:e}):3===t?r.a.createElement($,{headphone:e}):void 0}},{key:"renderRatings",value:function(e){var t;return t=0===e.ratings.length?10:e.ratings.reduce(function(e,t){return e+t.rating},0)/e.ratings.length*2,"linear-gradient(to right, black ".concat(10*t,"%, white ").concat(100-10*t,"%)")}},{key:"manageSelectedPage",value:function(e){return this.state.page===e?"--active-page":null}},{key:"render",value:function(){var e=this;if(!this.props.fullHeadphone)return r.a.createElement("div",{className:"selected-headphone__loading"},r.a.createElement("img",{className:"loading-image",src:"https://i.imgur.com/75tvQck.gif",alt:"pikachu loading"}));var t=this.props,a=t.fullHeadphone,n=t.headphone,s=t.removeHeadphone;return r.a.createElement("div",{className:"selected-headphone"},r.a.createElement("div",{className:"selected-headphone__close-button",onClick:function(){return s(n)}},"X"),r.a.createElement("div",{className:"selected-headphone__essential"},r.a.createElement("div",{className:"selected-headphone__thumbnail"},r.a.createElement("img",{src:a.image,alt:a.model})),r.a.createElement("div",null,r.a.createElement("span",{className:"selected-headphone__page ".concat(this.manageSelectedPage(1)),onClick:function(){return e.setState({page:1})}}),r.a.createElement("span",{className:"selected-headphone__page ".concat(this.manageSelectedPage(2)),onClick:function(){return e.setState({page:2})}}),r.a.createElement("span",{className:"selected-headphone__page ".concat(this.manageSelectedPage(3)),onClick:function(){return e.setState({page:3})}})),r.a.createElement("div",{className:"selected-headphone__rating",style:{background:this.renderRatings(a)}}),r.a.createElement("div",{className:"selected-headphone__amazon",onClick:function(){return window.open(a.amazonLink)}},r.a.createElement("i",{className:"fab fa-amazon"}),r.a.createElement("span",null,a.price))),r.a.createElement("h3",{className:"selected-headphone__name"},a.brand," ",a.model),this.renderCurrentPage(a))}}]),t}(r.a.Component),te=Object(c.b)(function(e,t){return{fullHeadphone:e.fullHeadphones.find(function(e){return e._id===t.headphone._id})}},{removeHeadphone:function(e){return{type:"HEADPHONE_REMOVED",payload:e}},fetchFullHeadphone:function(e){return function(){var t=Object(k.a)(O.a.mark(function t(a){var n;return O.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,j.a.get("/headphones/".concat(e));case 3:n=t.sent,a({type:"FETCHED_FULL_HEADPHONE",payload:n.data}),t.next=10;break;case 7:t.prev=7,t.t0=t.catch(0),a(M(t.t0.response.data));case 10:case"end":return t.stop()}},t,this,[[0,7]])}));return function(e){return t.apply(this,arguments)}}()}})(ee),ae=function(e){function t(){return Object(u.a)(this,t),Object(d.a)(this,Object(m.a)(t).apply(this,arguments))}return Object(h.a)(t,e),Object(p.a)(t,[{key:"renderListOfSelectedHeadphones",value:function(){return this.props.selectedList.map(function(e){return r.a.createElement(te,{headphone:e,key:e._id})}).slice(0,4)}},{key:"render",value:function(){return 0===this.props.selectedList.length?r.a.createElement("div",{className:"selected-list__empty"},"HEADPHONES ARENA"):r.a.createElement("div",{className:"selected-list"},this.renderListOfSelectedHeadphones())}}]),t}(r.a.Component),ne=Object(c.b)(function(e){return{selectedList:e.listOfSelectedHeadphones}})(ae),re=a(15),se=function(e){function t(){var e,a;Object(u.a)(this,t);for(var n=arguments.length,s=new Array(n),o=0;o<n;o++)s[o]=arguments[o];return(a=Object(d.a)(this,(e=Object(m.a)(t)).call.apply(e,[this].concat(s)))).state={tags:null},a.renderTags=function(){return a.state.tags?a.state.tags.map(function(e){return r.a.createElement("div",{className:"chat-message__tag",key:e.term,onClick:function(){return a.props.selectHeadphone(e.entry)}},e.term)}):null},a}return Object(h.a)(t,e),Object(p.a)(t,[{key:"componentDidUpdate",value:function(){var e=this;if(this.props.headphoneNamesWithRegex&&!this.state.tags){var t=[];this.props.headphoneNamesWithRegex.forEach(function(a){var n=a.regex.exec(e.props.message.message);n&&t.push({term:n[0],entry:Object(re.a)({},a.entry)})}),this.setState({tags:t})}}},{key:"render",value:function(){var e=this.props.message,t=e.author,a=e.message,n=e.created;return r.a.createElement("div",{className:"chat-message"},r.a.createElement("h6",{className:"chat-message__author",onClick:function(){return t.id?E.push("/user/".concat(t.id)):null}},t.username),r.a.createElement(Q.a,{fromNow:!0,className:"chat-message__date"},n),r.a.createElement("div",{className:"chat-message__message"},a),this.renderTags())}}]),t}(r.a.Component),oe=Object(c.b)(null,{selectHeadphone:T})(se),ce=function(e){function t(){var e,a;Object(u.a)(this,t);for(var n=arguments.length,r=new Array(n),s=0;s<n;s++)r[s]=arguments[s];return(a=Object(d.a)(this,(e=Object(m.a)(t)).call.apply(e,[this].concat(r)))).state={message:"",author:"Anonymous".concat(Math.floor(998*Math.random())+1),authorId:""},a.postMessage=Object(k.a)(O.a.mark(function e(){var t,n;return O.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t={message:a.state.message,author:{username:a.state.author,id:a.state.authorId}},e.prev=1,e.next=4,j.a.post("/chat",t);case 4:n=e.sent,console.log(n.data),a.setState({message:""},function(){a.props.fetchChatMessages()}),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(1),a.props.addGlobalError(e.t0.response.data);case 12:case"end":return e.stop()}},e,this,[[1,9]])})),a}return Object(h.a)(t,e),Object(p.a)(t,[{key:"render",value:function(){var e=this;return r.a.createElement("div",{className:"chat-input"},r.a.createElement("div",{className:"chat-input__fields"},r.a.createElement("textarea",{className:"chat-input__message",value:this.state.message,onChange:function(t){return e.setState({message:t.target.value})},onKeyPress:function(t){return"Enter"===t.key?e.postMessage():null}}),r.a.createElement("input",{className:"chat-input__author",type:"text",value:this.state.author,onChange:function(t){return e.setState({author:t.target.value})}}),r.a.createElement("i",{className:"far fa-caret-square-right chat-input__button",onClick:this.postMessage})))}}],[{key:"getDerivedStateFromProps",value:function(e,t){return e.currentUser&&t.author.includes("Anonymous")?{author:e.currentUser.username,authorId:e.currentUser.id}:null}}]),t}(r.a.Component),ie=Object(c.b)(function(e){return{currentUser:e.currentUser}},{addGlobalError:M})(ce),le=(a(82),function(e){function t(){var e,a;Object(u.a)(this,t);for(var n=arguments.length,r=new Array(n),s=0;s<n;s++)r[s]=arguments[s];return(a=Object(d.a)(this,(e=Object(m.a)(t)).call.apply(e,[this].concat(r)))).state={messages:null,headphoneNamesWithRegex:null},a.fetchChatMessages=Object(k.a)(O.a.mark(function e(){var t;return O.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,j.a.get("/chat");case 3:t=e.sent,a.setState({messages:t.data}),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),a.props.addGlobalError(e.t0.response.data);case 10:case"end":return e.stop()}},e,this,[[0,7]])})),a}return Object(h.a)(t,e),Object(p.a)(t,[{key:"componentDidMount",value:function(){var e=this;this.fetchChatMessages(),this.intervalId=setInterval(function(){return e.fetchChatMessages()},5e3)}},{key:"componentWillUnmount",value:function(){clearInterval(this.intervalId)}},{key:"componentDidUpdate",value:function(){return this.props.headphones&&!this.state.headphoneNamesWithRegex&&this.convertHeadphoneNamesToRegex(),null}},{key:"renderChatMessages",value:function(){var e=this,t=this.state.messages;return t?(t.reverse(),t.map(function(t){return r.a.createElement(oe,{key:t._id,message:t,headphoneNamesWithRegex:e.state.headphoneNamesWithRegex?e.state.headphoneNamesWithRegex:null})})):null}},{key:"convertHeadphoneNamesToRegex",value:function(){if(!this.props.headphones)return null;var e=this.props.headphones.map(function(e){var t=e.model,a=/\((.*)\)/.exec(t),n=(t=(t=t.replace(/\s\(.*\)/g,"")).replace(/(-|\s)/g,"")).split("").join(".?");if(a)var r="(".concat(n,"|").concat(a[1],")");else var s="(".concat(n,")");return{regex:new RegExp(r||s,"i"),entry:e}});console.log(e),this.setState({headphoneNamesWithRegex:e})}},{key:"render",value:function(){return r.a.createElement("div",{className:"live-chat"},r.a.createElement("div",{className:"live-chat__title"},"LIVE CHAT"),this.renderChatMessages(),r.a.createElement(ie,{fetchChatMessages:this.fetchChatMessages}))}}]),t}(r.a.Component)),ue=Object(c.b)(function(e){return{headphones:e.listOfHeadphones}},{addGlobalError:M})(le),pe=(a(84),function(){return r.a.createElement("div",{className:"arena"},r.a.createElement("div",{className:"arena__horizontal-line"}),r.a.createElement(Y,null),r.a.createElement(ne,null),r.a.createElement(ue,null),r.a.createElement("div",{className:"arena__nav-bar-line"}))}),de=a(17),me=(a(86),function(e){function t(){var e,a;Object(u.a)(this,t);for(var n=arguments.length,r=new Array(n),s=0;s<n;s++)r[s]=arguments[s];return(a=Object(d.a)(this,(e=Object(m.a)(t)).call.apply(e,[this].concat(r)))).state={brand:"",model:"",officialDescription:"",impedance:"",connector:"",portability:"",color:"",cable:"",driver:"",sensitivity:"",frequencyResponse:"",classification:"",maximumPower:"",weight:"",inTheBox:"",image:"",amazonLink:"",price:""},a.onFormSubmit=function(e){e.preventDefault(),a.postToServer()},a.postToServer=Object(k.a)(O.a.mark(function e(){var t,n,r,s,o,c,i,l,u,p,d,m,h,f,v,g,b,E,y,_,k;return O.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=a.state,n=t.brand,r=t.model,s=t.officialDescription,o=t.impedance,c=t.connector,i=t.portability,l=t.color,u=t.cable,p=t.driver,d=t.sensitivity,m=t.frequencyResponse,h=t.classification,f=t.maximumPower,v=t.weight,g=t.inTheBox,b=t.image,E=t.amazonLink,y=t.price,_={brand:n,model:r,brandAndModel:"".concat(n," ").concat(r),officialDescription:s,specification:{impedance:o,connector:c,portability:i,color:l,cable:u,driver:p,sensitivity:d,frequencyResponse:m,classification:h,maximumPower:f,weight:v,inTheBox:g},image:b,amazonLink:E,price:y},e.prev=2,e.next=5,j.a.post("/headphones",_);case 5:k=e.sent,console.log(k),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(2),a.props.addGlobalError(e.t0.response.data);case 12:case"end":return e.stop()}},e,this,[[2,9]])})),a}return Object(h.a)(t,e),Object(p.a)(t,[{key:"mapStateKeysToJSX",value:function(){var e=this,t=[];for(var a in this.state)"officialDescription"!==a?t.push(r.a.createElement("div",{key:a,className:"headphone-create__field"},r.a.createElement("label",{className:"headphone-create__label"},a.toUpperCase()),r.a.createElement("input",{className:"headphone-create__input",type:"text",name:a,value:this.state[a],onChange:function(t){return e.setState(Object(de.a)({},t.target.name,t.target.value))}}),r.a.createElement("div",{className:"headphone-create__full-stop"}))):t.push(r.a.createElement("div",{key:a,className:"headphone-create__field"},r.a.createElement("label",{className:"headphone-create__label"},a.toUpperCase()),r.a.createElement("textarea",{className:"headphone-create__input",name:a,value:this.state[a],onChange:function(t){return e.setState(Object(de.a)({},t.target.name,t.target.value))}}),r.a.createElement("div",{className:"headphone-create__full-stop"})));return t}},{key:"render",value:function(){return r.a.createElement("div",{className:"headphone-create"},r.a.createElement("div",{className:"headphone-create__background"}),r.a.createElement("div",{className:"headphone-create__content"},r.a.createElement("h1",{className:"headphone-create__page-name"},"CREATE A NEW HEADPHONE"),r.a.createElement("form",null,r.a.createElement("div",{className:"headphone-create__buttons"},r.a.createElement("div",{className:"headphone-create__edit-button",onClick:function(){return E.push("/headphones/edit")}},"EDIT"),r.a.createElement("div",{className:"headphone-create__submit-button",onClick:this.onFormSubmit},"UPLOAD HEADPHONE")),this.mapStateKeysToJSX())))}}]),t}(r.a.Component)),he=Object(c.b)(null,{addGlobalError:M})(me),fe=function(e){function t(){var e,a;Object(u.a)(this,t);for(var n=arguments.length,r=new Array(n),s=0;s<n;s++)r[s]=arguments[s];return(a=Object(d.a)(this,(e=Object(m.a)(t)).call.apply(e,[this].concat(r)))).state={confirmationIsActive:!1},a.delete=Object(k.a)(O.a.mark(function e(){var t;return O.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,j.a.delete("/headphones/".concat(a.props.id));case 3:t=e.sent,console.log(t.data),E.push("/headphones/new"),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),a.props.addGlobalError(e.t0.response.data);case 11:case"end":return e.stop()}},e,this,[[0,8]])})),a}return Object(h.a)(t,e),Object(p.a)(t,[{key:"confirmation",value:function(){var e=this;return this.state.confirmationIsActive?r.a.createElement("div",{className:"delete-confirmation"},r.a.createElement("div",{className:"delete-confirmation__box"},r.a.createElement("h5",null,"Are you sure you want to delete this Headphone Entry?"),r.a.createElement("div",{className:"delete-confirmation__box-buttons"},r.a.createElement("div",{onClick:this.delete},"Accept"),r.a.createElement("div",{onClick:function(){return e.setState({confirmationIsActive:!1})}},"Oopsie, go back")))):null}},{key:"render",value:function(){var e=this;return r.a.createElement("div",null,r.a.createElement("div",{className:"headphone-delete__button",onClick:function(){return e.setState({confirmationIsActive:!0})}},"Delete"),this.confirmation())}}]),t}(r.a.Component),ve=Object(c.b)(null,{addGlobalError:M})(fe),ge=(a(88),function(e){function t(){var e,a;Object(u.a)(this,t);for(var n=arguments.length,r=new Array(n),s=0;s<n;s++)r[s]=arguments[s];return(a=Object(d.a)(this,(e=Object(m.a)(t)).call.apply(e,[this].concat(r)))).state={_id:"",brand:"",model:"",officialDescription:"",impedance:"",connector:"",portability:"",color:"",cable:"",driver:"",sensitivity:"",frequencyResponse:"",classification:"",maximumPower:"",weight:"",inTheBox:"",image:"",amazonLink:"",price:""},a.fetchHeadphoneEntry=function(){var e=Object(k.a)(O.a.mark(function e(t){var n,r,s,o,c,i,l,u,p,d;return O.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,j.a.get("/headphones/".concat(t));case 3:n=e.sent,r=n.data,s=r._id,o=r.brand,c=r.model,i=r.image,l=r.officialDescription,u=r.amazonLink,p=r.price,d=r.specification,a.setState(Object(re.a)({_id:s,brand:o,model:c,officialDescription:l},d,{image:i,amazonLink:u,price:p})),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),a.props.addGlobalError(e.t0.response.data);case 11:case"end":return e.stop()}},e,this,[[0,8]])}));return function(t){return e.apply(this,arguments)}}(),a.onFormSubmit=function(e){e.preventDefault(),a.updateDatabase()},a.updateDatabase=Object(k.a)(O.a.mark(function e(){var t,n;return O.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t={brand:a.state.brand,model:a.state.model,brandAndModel:"".concat(a.state.brand," ").concat(a.state.model),officialDescription:a.state.officialDescription,specification:{impedance:a.state.impedance,connector:a.state.connector,portability:a.state.portability,color:a.state.color,cable:a.state.cable,driver:a.state.driver,sensitivity:a.state.sensitivity,frequencyResponse:a.state.frequencyResponse,classification:a.state.classification,maximumPower:a.state.maximumPower,weight:a.state.weight,inTheBox:a.state.inTheBox},image:a.state.image,amazonLink:a.state.amazonLink,price:a.state.price},e.prev=1,e.next=4,j.a.put("/headphones/".concat(a.state._id),t);case 4:n=e.sent,console.log(n.data),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(1),a.props.addGlobalError(e.t0.response.data);case 11:case"end":return e.stop()}},e,this,[[1,8]])})),a}return Object(h.a)(t,e),Object(p.a)(t,[{key:"renderExistingNames",value:function(){var e=this;return this.props.listOfHeadphones?this.props.listOfHeadphones.map(function(t){return r.a.createElement("span",{key:t._id,className:"headphone-edit__existing-name",onClick:function(){return e.fetchHeadphoneEntry(t._id)}},t.brandAndModel)}):null}},{key:"mapStateKeysToJSX",value:function(){var e=this,t=[];for(var a in this.state)"_id"!==a&&("officialDescription"!==a?t.push(r.a.createElement("div",{key:a,className:"headphone-edit__field"},r.a.createElement("label",{className:"headphone-edit__label"},a),r.a.createElement("input",{className:"headphone-edit__input",type:"text",name:a,value:this.state[a],onChange:function(t){return e.setState(Object(de.a)({},t.target.name,t.target.value))}}),r.a.createElement("div",{className:"headphone-edit__full-stop"}))):t.push(r.a.createElement("div",{key:a,className:"headphone-edit__field"},r.a.createElement("label",{className:"headphone-edit__label"},a),r.a.createElement("textarea",{className:"headphone-edit__input",name:a,value:this.state[a],onChange:function(t){return e.setState(Object(de.a)({},t.target.name,t.target.value))}}),r.a.createElement("div",{className:"headphone-edit__full-stop"}))));return t}},{key:"renderDeleteButton",value:function(){return this.state._id?r.a.createElement(ve,{id:this.state._id}):null}},{key:"render",value:function(){return r.a.createElement("div",{className:"headphone-edit"},r.a.createElement("div",{className:"headphone-edit__background"}),r.a.createElement("div",{className:"headphone-edit__content"},r.a.createElement("h1",{className:"headphone-edit__page-name"},"EDIT HEADPHONE"),r.a.createElement("div",{className:"headphone-edit__existing-headphones"},this.renderExistingNames()),r.a.createElement("form",null,this.mapStateKeysToJSX(),r.a.createElement("div",{className:"headphone-edit__buttons"},this.renderDeleteButton(),r.a.createElement("div",{className:"headphone-edit__submit-button",onClick:this.onFormSubmit},"UPDATE HEADPHONE")))))}}]),t}(r.a.Component)),be=Object(c.b)(function(e){return{listOfHeadphones:e.listOfHeadphones}},{addGlobalError:M})(ge),Ee=function(e){function t(){var e,a;Object(u.a)(this,t);for(var n=arguments.length,s=new Array(n),o=0;o<n;o++)s[o]=arguments[o];return(a=Object(d.a)(this,(e=Object(m.a)(t)).call.apply(e,[this].concat(s)))).renderCategoryPosts=function(){var e=a.props,t=e.category,n=e.posts;return n?("review"!==t&&"general"!==t||(n=n.slice(0,n.length-1)),n.map(function(e){return r.a.createElement("div",{key:e._id,className:"forum-category__post",onClick:function(){return a.props.redirectToMainPost(e)}},r.a.createElement("div",{className:"forum-category__post-container"},r.a.createElement("h4",{className:"forum-category__post-title"},e.title),r.a.createElement("p",{className:"forum-category__post-content"},"".concat(e.content.substring(0,260-e.title.length),"..."))),r.a.createElement("div",{className:"forum-category__post-metadata"},r.a.createElement(Q.a,{fromNow:!0,className:"forum-category__post-date"},e.created),r.a.createElement("div",{className:"forum-category__post-vote"},a.manageVoteIcon(e),e.vote.count)))})):null},a}return Object(h.a)(t,e),Object(p.a)(t,[{key:"manageVoteIcon",value:function(e){return e.vote.count>=0?r.a.createElement("i",{className:"fas fa-angle-up forum-category__post-vote-icon"}):r.a.createElement("i",{className:"fas fa-angle-down forum-category__post-vote-icon"})}},{key:"render",value:function(){var e=this.props,t=e.category;return e.searchActive?r.a.createElement("div",null):r.a.createElement("div",{className:"forum-category forum-category-".concat(t)},this.renderCategoryPosts())}}]),t}(r.a.Component),ye=Object(c.b)(null,{redirectToMainPost:S})(Ee),_e=function(e){function t(){var e,a;Object(u.a)(this,t);for(var n=arguments.length,r=new Array(n),s=0;s<n;s++)r[s]=arguments[s];return(a=Object(d.a)(this,(e=Object(m.a)(t)).call.apply(e,[this].concat(r)))).onSearchInputChange=function(e){a.props.fetchSearchPosts(e.target.value)},a}return Object(h.a)(t,e),Object(p.a)(t,[{key:"manageSearchStyle",value:function(e){if(!this.props.searchTerm)return null;switch(e){case"box":return{backgroundColor:"#c00603"};case"icon":return{display:"none"};case"input":return{borderColor:"#c00603"};default:return null}}},{key:"render",value:function(){var e=this.props.searchTerm;return r.a.createElement("div",{className:"forum-search"},r.a.createElement("i",{className:"fas fa-search forum-search__icon",style:this.manageSearchStyle("icon")}),r.a.createElement("input",{type:"text",className:"forum-search__input",value:e,onChange:this.onSearchInputChange,style:this.manageSearchStyle("input")}),r.a.createElement("div",{className:"forum-search__box",style:this.manageSearchStyle("box")}),r.a.createElement("div",{className:"forum-search__box",style:this.manageSearchStyle("box")}))}}]),t}(r.a.Component),Oe=Object(c.b)(function(e){return{searchTerm:e.forumSearchTerm}},{fetchSearchPosts:function(e){return function(){var t=Object(k.a)(O.a.mark(function t(a,n){var r,s,o;return O.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,a(x(e));case 2:return r=n().forumSearchTerm,t.next=5,a(A(r));case 5:s=n().forumSearchPosts,o=[],s.forEach(function(){var e=Object(k.a)(O.a.mark(function e(t){var n;return O.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,j.a.get("/posts/".concat(t._id));case 3:n=e.sent,(o=Object(y.a)(o).concat([n.data])).length===s.length&&a({type:"FETCHED_SEARCH_POSTS",payload:o}),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),a(M(e.t0.response.data));case 11:case"end":return e.stop()}},e,this,[[0,8]])}));return function(t){return e.apply(this,arguments)}}());case 8:case"end":return t.stop()}},t,this)}));return function(e,a){return t.apply(this,arguments)}}()}})(_e),ke=function(e){function t(){return Object(u.a)(this,t),Object(d.a)(this,Object(m.a)(t).apply(this,arguments))}return Object(h.a)(t,e),Object(p.a)(t,[{key:"renderSearchPosts",value:function(){var e=this;return this.props.searchPosts.map(function(t){return r.a.createElement("div",{key:t._id,className:"forum-search__post",onClick:function(){return E.push("/posts/".concat(t._id))}},r.a.createElement("div",{className:"forum-search__post-container"},r.a.createElement("h4",{className:"forum-search__post-title"},t.title),r.a.createElement("p",{className:"forum-search__post-content"},"".concat(t.content.substring(0,100),"..."))),r.a.createElement("div",{className:"forum-search__post-metadata"},r.a.createElement(Q.a,{fromNow:!0,className:"forum-search__post-date"},t.created),r.a.createElement("div",null,r.a.createElement("span",{className:"forum-search__post-vote"},e.manageVoteIcon(t),t.vote.count),r.a.createElement("span",null,r.a.createElement("i",{className:"far fa-comment-alt forum-search__post-reply-icon"}),t.totalReplies))))})}},{key:"manageVoteIcon",value:function(e){return e.vote.count>=0?r.a.createElement("i",{className:"fas fa-angle-up forum-search__post-vote-icon"}):r.a.createElement("i",{className:"fas fa-angle-down forum-search__post-vote-icon"})}},{key:"render",value:function(){var e=this.props,t=e.searchPosts;return e.searchActive&&t?r.a.createElement("div",{className:"forum-search-posts"},this.renderSearchPosts()):r.a.createElement("div",null)}}]),t}(r.a.Component),Ne=Object(c.b)(function(e){return{searchPosts:e.forumSearchPosts}})(ke),je=function(e){return e?{display:"none"}:null},Ce=function(e){var t=e.searchTerm;return r.a.createElement("div",{className:"forum-styling"},r.a.createElement("div",{className:"forum__category-names"},r.a.createElement("h2",null,"COMPARISON"),r.a.createElement("h2",null,"REVIEW"),r.a.createElement("h2",null,"GENERAL"),r.a.createElement("h2",null,"RECOMMENDATION")),r.a.createElement("div",{className:"forum__nav-bar-line"}),r.a.createElement("div",{className:"forum__horizontal-lines"}),r.a.createElement("div",{className:"forum__name forum__name--comparison",style:je(t)},r.a.createElement("h5",null,"COMPARISON")),r.a.createElement("div",{className:"forum__name forum__name--recommendation",style:je(t)},r.a.createElement("h5",null,"RECOMMENDATION")),r.a.createElement("div",{className:"forum__name forum__name--review",style:je(t)},r.a.createElement("h5",null,"REVIEW")),r.a.createElement("div",{className:"forum__name forum__name--general",style:je(t)},r.a.createElement("h5",null,"GENERAL")))},Te=(a(90),function(e){function t(){return Object(u.a)(this,t),Object(d.a)(this,Object(m.a)(t).apply(this,arguments))}return Object(h.a)(t,e),Object(p.a)(t,[{key:"componentDidMount",value:function(){this.props.fetchForumHomePosts()}},{key:"render",value:function(){if(!this.props.forumPosts)return r.a.createElement("div",null);var e=this.props,t=e.forumPosts,a=t.comparison,n=t.recommendation,s=t.review,o=t.general,c=e.searchTerm;return r.a.createElement("div",{className:"forum"},r.a.createElement("div",{className:"forum-contents"},r.a.createElement("h1",{className:"forum-contents__page-title"},"FORUM"),r.a.createElement(ye,{posts:a,category:"comparison",searchActive:c}),r.a.createElement(Oe,null),r.a.createElement(Ne,{searchActive:c}),r.a.createElement(ye,{posts:s,category:"review",searchActive:c}),r.a.createElement(ye,{posts:o,category:"general",searchActive:c}),r.a.createElement(ye,{posts:n,category:"recommendation",searchActive:c}),r.a.createElement(Ce,{searchTerm:c}),r.a.createElement(ue,null)),r.a.createElement("div",{className:"forum__add-post-button",onClick:function(){return E.push("/posts/new")}},"+"))}}]),t}(r.a.Component)),we=Object(c.b)(function(e){return{forumPosts:e.forumPosts,searchTerm:e.forumSearchTerm}},{fetchForumHomePosts:H})(Te),Se=[{criteria:"Comfort",tags:["tight clamp","comfort-king","sweaty ears","crown pain","jaw pain","too-loose","soft","rough","small cups","fatiguing","more like on-ears"]},{criteria:"Sound Signature",tags:["treble-murder","aggressive","fun","V-shaped","warm","bright","neutral","dark","mid","weird dips","flat","distorted","need equalizing"]},{criteria:"Bass",tags:["muddy bass","aggressive bass","punchy bass","adequate bass","not overwhelming bass","fatiguing bass","rumbling bass","deep bass","boomy bass","emphasized bass"]},{criteria:"Mid-range",tags:["in your face mids","forward mids","recessed mids","glorious mids","flat mids","thin mids","well-balanced mids","adequate but not emphasized mids","missing mids"]},{criteria:"Highs",tags:["airy and light highs","shrill highs","in your face highs","fatiguing highs","headache inducing highs","too much sibilance highs","bright highs","satisfying highs"]},{criteria:"Aesthetic",tags:["style-cans","fashionable","retro","chunky","unchanged since the eighties","modern","awkward-looking","attention-seeking","discrete","simplistic"]},{criteria:"Build",tags:["shoddy","loose parts","a tank","falls-survivor","cheap","exquisite materials","99% metal","will not survive daily transportation","squeaky","last a lifetime"]},{criteria:"Isolation",tags:["mild leakage","cannot hear my wife screaming","i hear things at night","practically non-existent","good for office use"]},{criteria:"Portability",tags:["bulky","no case","no swivel or folding","compact","not for outdoors","perfect for public commune","useful case","sufficient protection"]},{criteria:"Sound Stage",tags:["spacious","wide","narrow","as narrow as a pencil","movie-theatre level","I thought I was in the music","wider than it looks","things are coming at me in all directions","stereo"]},{criteria:"Imaging",tags:["accurate","detailed","clarity","muddy","I can hear pin drop","distinctive layers","harmonious","sounds like real instruments","unnatural"]},{criteria:"Power",tags:["need amplifier","suitable for phones","need decent DAP","need some serious juice","need dedicated equipments"]},{criteria:"Price",tags:["bang for the bang","over-priced","take my kidney","cheaper substitutes","frequently on discount","cheaper elsewhere","budget-king","premium","can compete with high-ends","suitably-priced"]},{criteria:"Purpose",tags:["open","closed-back","semi-closed","good for gaming","monitoring headphones","critical listening","chill and unwind","for watching movies"]}],He=(a(92),function(e){function t(){var e,a;Object(u.a)(this,t);for(var n=arguments.length,s=new Array(n),o=0;o<n;o++)s[o]=arguments[o];return(a=Object(d.a)(this,(e=Object(m.a)(t)).call.apply(e,[this].concat(s)))).state={searchTerm:"",searchMatches:[],taggedHeadphones:[],selectedTagLine:"",selectedCriteria:"",outputTags:[],id:""},a.onHeadphoneSearchInput=function(e){a.setState({searchTerm:e.target.value}),0===e.target.value.length?a.setState({searchMatches:[]}):a.searchForHeadphones(e.target.value)},a.searchForHeadphones=function(e){var t=e.replace(/\s/g,"").split("").join(".*"),n=new RegExp(t,"i"),r=a.props.listOfHeadphones.filter(function(e){return n.test(e.brandAndModel)});a.state.taggedHeadphones.length>0&&(r=r.filter(function(e){return!a.state.taggedHeadphones.includes(e.brandAndModel)})),r=r.slice(0,4),a.setState({searchMatches:r})},a.renderSuggestionsFromMatches=function(){return a.state.searchMatches.map(function(e){return r.a.createElement("div",{className:"tag-system__searchMatch",key:e.brandAndModel,onClick:function(){return a.addTaggedHeadphone(e.brandAndModel)}},e.brandAndModel)})},a.addTaggedHeadphone=function(e){a.setState({taggedHeadphones:Object(y.a)(a.state.taggedHeadphones).concat([e]),searchTerm:"",searchMatches:[]})},a.removeTaggedHeadphone=function(e){var t=a.state.taggedHeadphones.filter(function(t){return t!==e}),n=a.state.outputTags.filter(function(t){return t.brandAndModel!==e});a.setState({taggedHeadphones:t,outputTags:n}),a.state.selectedTagLine===e&&a.setState({selectedTagLine:""})},a.renderTagLineFromTaggedHeadphones=function(){return a.state.taggedHeadphones.map(function(e){return r.a.createElement("div",{className:"tag-system__tag-line",key:e},r.a.createElement("div",{className:"tag-system__tagged-headphone",onClick:function(){return a.selectTagLine(e)}},e," :",r.a.createElement("span",{className:"tag-system__tags"},a.renderTagsInEachTagLine(e))),r.a.createElement("i",{className:"fas fa-times tag-system__remove-tag-line",onClick:function(){return a.removeTaggedHeadphone(e)}}))})},a.renderTagsInEachTagLine=function(e){var t=a.state.outputTags.find(function(t){return t.brandAndModel===e});return t?t.tags.map(function(t){return r.a.createElement("span",{className:"tag-system__tag",key:t},t,r.a.createElement("i",{className:"fas fa-times tag-system__remove-tag",onClick:function(){return a.removeTag(e,t)}}))}):null},a.selectTagLine=function(e){a.setState({selectedTagLine:e})},a.renderTaggingCriterias=function(){return a.state.selectedTagLine?Se.map(function(e){return r.a.createElement("span",{key:e.criteria},r.a.createElement("span",{onClick:function(){return a.setState({selectedCriteria:e.criteria})}},e.criteria)," |")}):null},a.renderSelectableTags=function(){if(!a.state.selectedCriteria||!a.state.selectedTagLine)return null;var e=Se.find(function(e){return e.criteria===a.state.selectedCriteria});return r.a.createElement("div",null,e.tags.map(function(e){return r.a.createElement("span",{key:e,onClick:function(){return a.addTag(e)}},e)}))},a.addTag=function(e){var t=a.state.selectedTagLine,n=a.state.outputTags.find(function(e){return e.brandAndModel===t}),r=a.state.outputTags.filter(function(e){return e.brandAndModel!==t});n||(n={brandAndModel:t,tags:[]}),n.tags.includes(e)||n.tags.push(e),a.setState({outputTags:Object(y.a)(r).concat([n])})},a.removeTag=function(e,t){var n=a.state.outputTags.find(function(t){return t.brandAndModel===e}),r=a.state.outputTags.filter(function(t){return t.brandAndModel!==e});n.tags=n.tags.filter(function(e){return e!==t}),a.setState({outputTags:Object(y.a)(r).concat([n])})},a}return Object(h.a)(t,e),Object(p.a)(t,[{key:"componentDidUpdate",value:function(){this.props.compileTags(this.state.outputTags)}},{key:"render",value:function(){return r.a.createElement("div",{className:"tag-system"},r.a.createElement("input",{className:"tag-system__searchInput",type:"text",value:this.state.searchTerm,onChange:this.onHeadphoneSearchInput}),this.renderSuggestionsFromMatches(),this.renderTagLineFromTaggedHeadphones(),this.renderTaggingCriterias(),this.renderSelectableTags())}}],[{key:"getDerivedStateFromProps",value:function(e,t){if(!e.previousTags||e.id===t.id)return null;if(0===e.previousTags.length)return{id:e.id,taggedHeadphones:[],outputTags:[],selectedTagLine:""};var a=e.previousTags.map(function(e){return{brandAndModel:e.brandAndModel,tags:Object(y.a)(e.tags)}});return{taggedHeadphones:e.previousTags.map(function(e){return e.brandAndModel}),outputTags:a,id:e.id,selectedTagLine:""}}}]),t}(r.a.Component)),xe=Object(c.b)(function(e){return{listOfHeadphones:e.listOfHeadphones}})(He),Ae=function(e){function t(){var e,a;Object(u.a)(this,t);for(var n=arguments.length,r=new Array(n),s=0;s<n;s++)r[s]=arguments[s];return(a=Object(d.a)(this,(e=Object(m.a)(t)).call.apply(e,[this].concat(r)))).state={username:"",password:""},a.onSubmitClick=function(e){e.preventDefault(),a.state.username&&a.state.password?(a.props.registerUser(a.state.username,a.state.password),a.props.redirectIfDone&&a.props.redirectIfDone()):a.props.addGlobalError("Both username and password are required")},a}return Object(h.a)(t,e),Object(p.a)(t,[{key:"render",value:function(){var e=this;return r.a.createElement("div",null,"REGISTER",r.a.createElement("form",null,r.a.createElement("label",null,"Username"),r.a.createElement("input",{type:"text",value:this.state.username,onChange:function(t){return e.setState({username:t.target.value})}}),r.a.createElement("label",null,"Password"),r.a.createElement("input",{type:"text",value:this.state.password,onChange:function(t){return e.setState({password:t.target.value})}}),r.a.createElement("input",{type:"submit",onClick:this.onSubmitClick})))}}]),t}(r.a.Component),Pe=Object(c.b)(function(e){return{currentUser:e.currentUser}},{registerUser:function(e,t){return function(){var a=Object(k.a)(O.a.mark(function a(n){var r;return O.a.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,a.next=3,j.a.post("/register",{username:e,password:t});case 3:r=a.sent,n({type:"CURRENT_USER",payload:r.data}),a.next=10;break;case 7:a.prev=7,a.t0=a.catch(0),n(M(a.t0.response.data));case 10:case"end":return a.stop()}},a,this,[[0,7]])}));return function(e){return a.apply(this,arguments)}}()},addGlobalError:M})(Ae),Re=(a(94),a(38)),Ue=function(e){function t(){var e,a;Object(u.a)(this,t);for(var n=arguments.length,s=new Array(n),o=0;o<n;o++)s[o]=arguments[o];return(a=Object(d.a)(this,(e=Object(m.a)(t)).call.apply(e,[this].concat(s)))).state={username:"",password:"",registerIsActive:!1},a.onSubmitClick=function(e){e.preventDefault(),a.state.username&&a.state.password?(a.props.loginUser(a.state.username,a.state.password),a.props.redirectIfDone&&E.goBack()):a.props.addGlobalError("Both username and password are required!")},a.onRefuseClick=function(){a.props.turnOffLogin?a.props.turnOffLogin():E.goBack()},a.renderRegister=function(){return a.state.registerIsActive?r.a.createElement(Pe,null):Re.isNull},a.turnOffRegister=function(){a.setState({registerIsActive:!0})},a}return Object(h.a)(t,e),Object(p.a)(t,[{key:"render",value:function(){var e=this;return r.a.createElement("div",{className:"login"},r.a.createElement("div",{className:"login__contents"},r.a.createElement("form",{className:"login__form"},r.a.createElement("div",{className:"login__form-page-title"}," LOG IN"),r.a.createElement("label",{className:"login__form-label"},"USERNAME"),r.a.createElement("input",{type:"text",className:"login__form-input",value:this.state.username,onChange:function(t){return e.setState({username:t.target.value})}}),r.a.createElement("label",{className:"login__form-label"},"PASSWORD"),r.a.createElement("input",{type:"password",className:"login__form-input",value:this.state.password,onChange:function(t){return e.setState({password:t.target.value})}}),r.a.createElement("div",{className:"login__form-button",onClick:this.onSubmitClick},"LOG ME IN!")),r.a.createElement("div",{className:"login__alternatives"},r.a.createElement("h6",{className:"login__alternatives-register",onClick:function(){return e.setState({registerIsActive:!0})}},"But, I am not registered!"),r.a.createElement("h6",{className:"login__alternatives-refuse",onClick:this.onRefuseClick},"No Way! You can't make me!")),r.a.createElement("div",{className:"login__continuous-line"}),r.a.createElement("div",{className:"login__vertical-line"}),r.a.createElement("div",{className:"login__vertical-line-2"})),this.renderRegister())}}]),t}(r.a.Component),Me=Object(c.b)(function(e){return{currentUser:e.currentUser}},{loginUser:function(e,t){return function(){var a=Object(k.a)(O.a.mark(function a(n){var r;return O.a.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,a.next=3,j.a.post("/login",{username:e,password:t});case 3:r=a.sent,n({type:"CURRENT_USER",payload:r.data}),a.next=10;break;case 7:a.prev=7,a.t0=a.catch(0),n(M("Incorrect username or password! Are you registered? Have you forgotten your password?"));case 10:case"end":return a.stop()}},a,this,[[0,7]])}));return function(e){return a.apply(this,arguments)}}()},addGlobalError:M})(Ue),Ie=function(e){function t(){var e,a;Object(u.a)(this,t);for(var n=arguments.length,r=new Array(n),s=0;s<n;s++)r[s]=arguments[s];return(a=Object(d.a)(this,(e=Object(m.a)(t)).call.apply(e,[this].concat(r)))).state={idToReplyTo:"",title:"",category:"",outputTags:[],content:""},a.retrieveTagsFromTagSystem=function(e){a.setState({outputTags:e})},a.onFormSubmit=function(e){e.preventDefault(),a.props.currentUser&&(a.state.content?a.postToServer():a.props.addGlobalError("Please fill in some content for your reply at least..."))},a.postToServer=Object(k.a)(O.a.mark(function e(){var t,n,r;return O.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t={idToReplyTo:a.state.idToReplyTo,body:{isMainPost:!1,title:a.state.title,tag:a.state.outputTags,content:a.state.content,category:a.state.category}},e.prev=1,e.next=4,j.a.post("/posts",t);case 4:if(n=e.sent,console.log(n),!(t.body.tag.length>0)){e.next=11;break}return e.next=9,j.a.put("/posts/".concat(n.data._id,"/addtags"),t);case 9:r=e.sent,console.log(r);case 11:a.props.fetchPost(a.props.mainPostId),a.props.turnOffReplyCreate(),e.next=18;break;case 15:e.prev=15,e.t0=e.catch(1),a.props.addGlobalError(e.t0.response.data);case 18:case"end":return e.stop()}},e,this,[[1,15]])})),a}return Object(h.a)(t,e),Object(p.a)(t,[{key:"componentDidUpdate",value:function(){if(!this.state.idToReplyTo){var e=this.props,t=e.idToReplyTo,a=e.title,n=e.category;this.setState({idToReplyTo:t,title:a,category:n})}}},{key:"askLogin",value:function(){if(!this.props.currentUser)return r.a.createElement(Me,{turnOffLogin:this.props.turnOffReplyCreate})}},{key:"render",value:function(){var e=this;return r.a.createElement("div",{className:"reply-create"},r.a.createElement("form",null,r.a.createElement(xe,{compileTags:this.retrieveTagsFromTagSystem}),r.a.createElement("textarea",{className:"reply-create__content",onChange:function(t){return e.setState({content:t.target.value})},value:this.state.content,placeholder:"Share your thoughts with your fellow Audiophiles ..."}),r.a.createElement("div",{className:"reply-create__buttons"},r.a.createElement("div",{className:"reply-create__submit-button",onClick:this.onFormSubmit},"REPLY"),r.a.createElement("div",{className:"reply-create__refuse-button",onClick:this.props.turnOffReplyCreate},"OOPS!"))),this.askLogin())}}]),t}(r.a.Component),De=Object(c.b)(function(e){return{currentUser:e.currentUser}},{fetchPost:P,addGlobalError:M})(Ie),Le=function(e){function t(){var e,a;Object(u.a)(this,t);for(var n=arguments.length,r=new Array(n),s=0;s<n;s++)r[s]=arguments[s];return(a=Object(d.a)(this,(e=Object(m.a)(t)).call.apply(e,[this].concat(r)))).state={askLogin:!1},a.onVoteClick=function(e){var t=a.props,n=t.currentUser,r=t.vote;if(n){var s=r.count,o=Object(y.a)(r.upVote),c=Object(y.a)(r.downVote);"upvote"===e?o.includes(n.id)?(s--,o=o.filter(function(e){return e!==n.id})):c.includes(n.id)?(s+=2,c=c.filter(function(e){return e!==n.id}),o=Object(y.a)(o).concat([n.id])):(s++,o=Object(y.a)(o).concat([n.id])):"downvote"===e&&(c.includes(n.id)?(s++,c=c.filter(function(e){return e!==n.id})):o.includes(n.id)?(s-=2,o=o.filter(function(e){return e!==n.id}),c=Object(y.a)(c).concat([n.id])):(s--,c=Object(y.a)(c).concat([n.id])));var i={body:{vote:{count:s,upVote:o,downVote:c}}};a.props.updatePost(a.props.id,i,a.props.mainPostId)}else a.setState({askLogin:!0})},a.turnOffLogin=function(){a.setState({askLogin:!1})},a}return Object(h.a)(t,e),Object(p.a)(t,[{key:"askLogin",value:function(){if(this.state.askLogin&&this.props.currentUser)this.setState({askLogin:!1});else if(this.state.askLogin)return r.a.createElement(Me,{turnOffLogin:this.turnOffLogin})}},{key:"manageUpVoteIconStyle",value:function(){var e=this.props,t=e.vote,a=e.currentUser;return a&&t.upVote.includes(a.id)?"vote--active":null}},{key:"manageDownVoteIconStyle",value:function(){var e=this.props,t=e.vote,a=e.currentUser;return a&&t.downVote.includes(a.id)?"vote--active":null}},{key:"render",value:function(){var e=this,t=this.props.vote;return r.a.createElement("div",{className:"vote"},r.a.createElement("i",{className:"fas fa-caret-up ".concat(this.manageUpVoteIconStyle()),onClick:function(){return e.onVoteClick("upvote")}}),t.count,r.a.createElement("i",{className:"fas fa-caret-down ".concat(this.manageDownVoteIconStyle()),onClick:function(){return e.onVoteClick("downvote")}}),this.askLogin())}}]),t}(r.a.Component),Fe=Object(c.b)(function(e){return{currentUser:e.currentUser}},{updatePost:R})(Le),Ge=function(e){function t(){var e,a;Object(u.a)(this,t);for(var n=arguments.length,s=new Array(n),o=0;o<n;o++)s[o]=arguments[o];return(a=Object(d.a)(this,(e=Object(m.a)(t)).call.apply(e,[this].concat(s)))).state={renderReplyCreate:!1},a.renderTags=function(){var e=a.props.data.tag;return 0===e.length?null:e.map(function(e){return r.a.createElement("div",{key:e.tags,className:"main-post__tag-item"},r.a.createElement("h6",{className:"main-post__tagged-headphone",onClick:function(){a.props.selectHeadphoneUsingNameOnly(e.brandAndModel)}},e.brandAndModel.toUpperCase()),r.a.createElement("div",{className:"main-post__tags"},e.tags.map(function(e){return r.a.createElement("div",{className:"main-post__tag",key:e},e.toUpperCase())})))})},a.turnOffReplyCreate=function(){a.setState({renderReplyCreate:!1})},a}return Object(h.a)(t,e),Object(p.a)(t,[{key:"renderAvatar",value:function(){var e=this.props.data.author,t=e.profile.picture,a=e.id;return t?r.a.createElement("img",{className:"reply__avatar",src:t,alt:"user avatar",onClick:function(){return E.push("/user/".concat(a))}}):null}},{key:"renderEditButton",value:function(){var e=this.props.data,t=e.author,a=e._id,n=this.props.currentUser;return n&&t.id===n.id?r.a.createElement("i",{className:"fas fa-edit",onClick:function(){return E.push("/posts/".concat(a,"/edit"))}}):null}},{key:"renderReplyCreate",value:function(){if(!this.state.renderReplyCreate)return null;var e=this.props.data,t=e._id,a=e.title,n=e.category;return r.a.createElement(De,{idToReplyTo:t,title:a,category:n,turnOffReplyCreate:this.turnOffReplyCreate,mainPostId:t})}},{key:"manageReplyCreateButton",value:function(){return this.state.renderReplyCreate?{display:"none"}:null}},{key:"render",value:function(){var e=this;if(!this.props.data)return r.a.createElement("div",null,"Loading");var t=this.props.data,a=t.title,n=t.created,s=t.content,o=t.author,c=t.vote,i=t._id,l=t.category;return r.a.createElement("div",{className:"main-post"},r.a.createElement("div",{className:"main-post__title"},r.a.createElement("span",null,a)),r.a.createElement("div",{className:"main-post__category"},l),r.a.createElement("div",{className:"main-post__container"},r.a.createElement(Q.a,{format:"D MMM YYYY",withTitle:!0,className:"main-post__date"},n),r.a.createElement("div",{className:"main-post__body"},r.a.createElement("div",{className:"main-post__author"},this.renderAvatar(),r.a.createElement("h4",{className:"main-post__username",onClick:function(){return E.push("/user/".concat(o.id))}},o.username)),r.a.createElement("p",{className:"main-post__content"},s)),r.a.createElement("div",{className:"main-post__tag-container"},this.renderTags()),this.renderReplyCreate(),r.a.createElement("div",{className:"main-post__edit-button"},this.renderEditButton())),r.a.createElement("div",{style:this.manageReplyCreateButton(),onClick:function(){return e.setState({renderReplyCreate:!0})},className:"main-post__create-reply-button"},r.a.createElement("i",{className:"far fa-comment-alt"})),r.a.createElement(Fe,{vote:c,id:i,mainPostId:i}),r.a.createElement("div",{className:"main-post__horizontal-line-1"}))}}]),t}(r.a.Component),Be=Object(c.b)(null,{selectHeadphoneUsingNameOnly:w})(Ge),qe=(a(98),function(e){function t(){var e,a;Object(u.a)(this,t);for(var n=arguments.length,s=new Array(n),o=0;o<n;o++)s[o]=arguments[o];return(a=Object(d.a)(this,(e=Object(m.a)(t)).call.apply(e,[this].concat(s)))).state={renderReplyCreate:!1},a.renderTags=function(){var e=a.props.data;return 0===e.tag.length?null:e.tag.map(function(e){return r.a.createElement("div",{key:e.tags,className:"reply__tag-item"},r.a.createElement("h6",{className:"reply__tagged-headphone",onClick:function(){a.props.selectHeadphoneUsingNameOnly(e.brandAndModel)}},e.brandAndModel.toUpperCase()),r.a.createElement("div",{className:"reply__tags"},e.tags.map(function(e){return r.a.createElement("div",{className:"reply__tag",key:e},e.toUpperCase())})))})},a.renderReplies=function(){var e=a.props.data;return 0===e.replies.length?null:e.replies.map(function(e){return r.a.createElement(t,{key:e._id,data:e,allowReply:a.props.tier<3,tier:a.props.tier+1,mainPostId:a.props.mainPostId,currentUser:a.props.currentUser})})},a.renderButtonToTriggerReplyCreate=function(){return a.props.allowReply?r.a.createElement("div",{className:"reply__create-reply-button",style:a.manageReplyCreateButton(),onClick:function(){return a.setState({renderReplyCreate:!0})}},r.a.createElement("i",{className:"far fa-comment-alt"})):null},a.turnOffReplyCreate=function(){a.setState({renderReplyCreate:!1})},a.renderEditButton=function(){var e=a.props,t=e.data,n=t.author,s=t._id,o=e.currentUser;return o&&n.id===o.id?r.a.createElement("i",{className:"fas fa-edit",onClick:function(){return E.push("/posts/".concat(s,"/edit"))}}):null},a}return Object(h.a)(t,e),Object(p.a)(t,[{key:"renderAvatar",value:function(){var e=this.props.data.author,t=e.profile.picture,a=e.id;return t?r.a.createElement("img",{className:"reply__avatar",src:t,alt:"user avatar",onClick:function(){return E.push("/user/".concat(a))}}):null}},{key:"manageReplyCreateButton",value:function(){return this.state.renderReplyCreate?{display:"none"}:null}},{key:"renderReplyCreate",value:function(){if(!this.state.renderReplyCreate)return null;var e=this.props.data,t=e._id,a=e.title,n=e.category;return r.a.createElement(De,{idToReplyTo:t,title:a,category:n,mainPostId:this.props.mainPostId,turnOffReplyCreate:this.turnOffReplyCreate})}},{key:"render",value:function(){if(!this.props.data)return r.a.createElement("div",null);var e=this.props.data,t=e.created,a=e.content,n=e.author,s=e.vote,o=e._id;return r.a.createElement("div",{className:"reply"},r.a.createElement(Q.a,{format:"D MMM YYYY",withTitle:!0,className:"reply__date"},t),r.a.createElement("div",{className:"reply__body"},r.a.createElement("div",{className:"reply__author"},this.renderAvatar(),r.a.createElement("h4",{className:"reply__username",onClick:function(){return E.push("/user/".concat(n.id))}},n.username)),r.a.createElement("p",{className:"reply__content"},a)),r.a.createElement("div",{className:"reply__tag-container"},this.renderTags()),this.renderReplyCreate(),r.a.createElement("div",{className:"reply__buttons"},r.a.createElement(Fe,{vote:s,id:o,mainPostId:this.props.mainPostId}),this.renderButtonToTriggerReplyCreate(),r.a.createElement("div",{className:"reply__edit-button"},this.renderEditButton())),r.a.createElement("div",{className:"reply__sub-replies"},this.renderReplies()))}}]),t}(r.a.Component)),Ve=Object(c.b)(null,{selectHeadphoneUsingNameOnly:w})(qe),ze=(a(100),function(e){function t(){var e,a;Object(u.a)(this,t);for(var n=arguments.length,s=new Array(n),o=0;o<n;o++)s[o]=arguments[o];return(a=Object(d.a)(this,(e=Object(m.a)(t)).call.apply(e,[this].concat(s)))).renderReplies=function(){var e=a.props,t=e.post,n=e.currentUser;return t?0===t.replies.length?null:t.replies.map(function(e){return r.a.createElement(Ve,{key:e._id,data:e,allowReply:!0,tier:1,mainPostId:t._id,currentUser:n})}):null},a}return Object(h.a)(t,e),Object(p.a)(t,[{key:"componentDidMount",value:function(){this.props.fetchPost(this.props.match.params.id)}},{key:"render",value:function(){var e=this.props,t=e.post,a=e.currentUser;return r.a.createElement("div",{className:"post-show"},r.a.createElement(Be,{data:t,currentUser:a}),r.a.createElement("div",{className:"post-show__replies"},this.renderReplies()),r.a.createElement("div",{className:"post-show__vertical-lines-1"}),r.a.createElement(ue,null))}}]),t}(r.a.Component)),We=Object(c.b)(function(e){return{post:e.post,currentUser:e.currentUser}},{fetchPost:P})(ze),Ye=(a(102),function(e){function t(){var e,a;Object(u.a)(this,t);for(var n=arguments.length,r=new Array(n),s=0;s<n;s++)r[s]=arguments[s];return(a=Object(d.a)(this,(e=Object(m.a)(t)).call.apply(e,[this].concat(r)))).state={title:"",category:"",outputTags:[],content:"What do you want to share with your fellow Audiophiles today?"},a.onCategoryClick=function(e){a.setState({category:e})},a.retrieveTagsFromTagSystem=function(e){a.setState({outputTags:e})},a.onFormSubmit=function(e){e.preventDefault();var t=a.state,n=t.title,r=t.category,s=t.content;a.props.currentUser&&(n&&r&&s?a.postToServer():a.props.addGlobalError("Do you have 1 category selected, title and content filled in?"))},a.postToServer=Object(k.a)(O.a.mark(function e(){var t,n,r;return O.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t={body:{isMainPost:!0,title:a.state.title,category:a.state.category,tag:a.state.outputTags,content:a.state.content}},e.prev=1,e.next=4,j.a.post("/posts",t);case 4:if(n=e.sent,console.log(n),!(t.body.tag.length>0)){e.next=11;break}return e.next=9,j.a.put("/posts/".concat(n.data._id,"/addtags"),t);case 9:r=e.sent,console.log(r);case 11:a.props.fetchForumHomePosts(),E.push("/forum"),e.next=18;break;case 15:e.prev=15,e.t0=e.catch(1),a.props.addGlobalError(e.t0.response.data);case 18:case"end":return e.stop()}},e,this,[[1,15]])})),a}return Object(h.a)(t,e),Object(p.a)(t,[{key:"manageClass",value:function(e){return this.state.category===e?"active":""}},{key:"askLogin",value:function(){if(!this.props.currentUser)return r.a.createElement(Me,null)}},{key:"render",value:function(){var e=this;return r.a.createElement("div",{className:"post-create"},r.a.createElement("h1",null,"New Post"),r.a.createElement("form",{onSubmit:this.onFormSubmit},r.a.createElement("label",null,"Title Of Post"),r.a.createElement("input",{type:"text",value:this.state.title,onChange:function(t){return e.setState({title:t.target.value})}}),r.a.createElement("div",{className:"post-create__category"},r.a.createElement("div",{className:this.manageClass("Comparison"),onClick:function(){return e.onCategoryClick("Comparison")}},"Comparison"),r.a.createElement("div",{className:this.manageClass("Recommendation"),onClick:function(){return e.onCategoryClick("Recommendation")}},"Budget Recommendation"),r.a.createElement("div",{className:this.manageClass("Review"),onClick:function(){return e.onCategoryClick("Review")}},"Review"),r.a.createElement("div",{className:this.manageClass("General"),onClick:function(){return e.onCategoryClick("General")}},"General Talk")),r.a.createElement(xe,{compileTags:this.retrieveTagsFromTagSystem}),r.a.createElement("textarea",{value:this.state.content,onChange:function(t){return e.setState({content:t.target.value})}}),r.a.createElement("input",{type:"submit"})),this.askLogin())}}]),t}(r.a.Component)),Je=Object(c.b)(function(e){return{currentUser:e.currentUser}},{addGlobalError:M,fetchForumHomePosts:H})(Ye),Ke=(a(104),function(e){function t(){var e,a;Object(u.a)(this,t);for(var n=arguments.length,r=new Array(n),s=0;s<n;s++)r[s]=arguments[s];return(a=Object(d.a)(this,(e=Object(m.a)(t)).call.apply(e,[this].concat(r)))).state={outputTags:[],content:"",prevTags:[],postId:""},a.retrieveTagsFromTagSystem=function(e){a.setState({outputTags:e})},a.onFormSubmit=function(e){e.preventDefault();var t=a.props,n=t.currentUser,r=t.post,s=t.addGlobalError,o=t.updatePost;if(n.id!==r.author.id)s("I mean, you wish you were the author of this post, but you are not. So you can't edit this post.");else{var c={prevTags:a.state.prevTags,body:{tag:a.state.outputTags,content:a.state.content}};a.state.content?(o(r._id,c),a.updateTagsInServer(c)):s("Please fill in some content at least...GEEZ...")}},a.updateTagsInServer=function(){var e=Object(k.a)(O.a.mark(function e(t){var n,r;return O.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,!(t.prevTags.length>0)){e.next=6;break}return e.next=4,j.a.put("/posts/".concat(a.props.post._id,"/removetags"),t);case 4:n=e.sent,console.log(n);case 6:if(!(t.body.tag.length>0)){e.next=11;break}return e.next=9,j.a.put("/posts/".concat(a.props.post._id,"/addtags"),t);case 9:r=e.sent,console.log(r);case 11:E.goBack(),e.next=17;break;case 14:e.prev=14,e.t0=e.catch(0),a.props.addGlobalError(e.t0.response.data);case 17:case"end":return e.stop()}},e,this,[[0,14]])}));return function(t){return e.apply(this,arguments)}}(),a}return Object(h.a)(t,e),Object(p.a)(t,[{key:"componentDidMount",value:function(){this.props.fetchPost(this.props.match.params.id)}},{key:"askLogin",value:function(){if(!this.props.currentUser)return r.a.createElement(Me,null)}},{key:"render",value:function(){var e=this,t=this.props.post;return r.a.createElement("div",{className:"post-edit"},r.a.createElement("h6",null,"Edit Post"),r.a.createElement("form",{onSubmit:this.onFormSubmit},r.a.createElement(xe,{previousTags:t?t.tag:null,compileTags:this.retrieveTagsFromTagSystem,id:t?t._id:null}),r.a.createElement("textarea",{onChange:function(t){return e.setState({content:t.target.value})},value:this.state.content}),r.a.createElement("input",{type:"submit"}),r.a.createElement("button",{onClick:function(){return E.push("/posts/".concat(e.props.match.params.id,"/delete"))}},"Delete")),this.askLogin())}}],[{key:"getDerivedStateFromProps",value:function(e,t){if(e.post&&e.post._id!==t.postId){var a=e.post.tag.map(function(e){return{brandAndModel:e.brandAndModel,tags:Object(y.a)(e.tags)}});return{content:e.post.content,prevTags:a,postId:e.post._id}}return e.match.params.id!==t.postId&&e.fetchPost(e.match.params.id),null}}]),t}(r.a.Component)),Xe=Object(c.b)(function(e){return{post:e.post,currentUser:e.currentUser}},{fetchPost:P,updatePost:R,addGlobalError:M})(Ke),Qe=(a(106),function(e){function t(){var e,a;Object(u.a)(this,t);for(var n=arguments.length,r=new Array(n),s=0;s<n;s++)r[s]=arguments[s];return(a=Object(d.a)(this,(e=Object(m.a)(t)).call.apply(e,[this].concat(r)))).state={isActive:!1},a.delete=Object(k.a)(O.a.mark(function e(){var t,n;return O.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=a.props.match.params.id,e.prev=1,e.next=4,j.a.delete("/posts/".concat(t));case 4:n=e.sent,console.log(n),E.push("/posts/".concat(t)),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(1),a.props.addGlobalError(e.t0.response.data);case 12:case"end":return e.stop()}},e,this,[[1,9]])})),a}return Object(h.a)(t,e),Object(p.a)(t,[{key:"render",value:function(){return r.a.createElement("div",{className:"delete-confirmation"},r.a.createElement("div",{className:"delete-confirmation__box"},r.a.createElement("h5",null,"Are you sure you want to delete this Post?"),r.a.createElement("div",{className:"delete-confirmation__box-buttons"},r.a.createElement("button",{onClick:this.delete},"Accept"),r.a.createElement("button",{onClick:function(){return E.goBack()}},"Oopsie, go back"))))}}]),t}(r.a.Component)),Ze=Object(c.b)(null,{addGlobalError:M})(Qe),$e=function(){return r.a.createElement("div",null,"Blacksmith")},et=function(e){function t(){var e,a;Object(u.a)(this,t);for(var n=arguments.length,r=new Array(n),s=0;s<n;s++)r[s]=arguments[s];return(a=Object(d.a)(this,(e=Object(m.a)(t)).call.apply(e,[this].concat(r)))).state={imageUrl:""},a.onUploadClick=Object(k.a)(O.a.mark(function e(){var t;return O.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,j.a.put("/user-profile/".concat(a.props.profileId),{picture:a.state.imageUrl});case 3:t=e.sent,console.log(t),a.props.turnOff(),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),a.props.addGlobalError(e.t0.response.data);case 11:case"end":return e.stop()}},e,this,[[0,8]])})),a}return Object(h.a)(t,e),Object(p.a)(t,[{key:"render",value:function(){var e=this;return r.a.createElement("div",null,"URL link to image"," ",r.a.createElement("input",{type:"text",value:this.state.imageUrl,onChange:function(t){return e.setState({imageUrl:t.target.value})}}),r.a.createElement("button",{onClick:this.onUploadClick},"Upload"))}}]),t}(r.a.Component),tt=Object(c.b)(null,{addGlobalError:M})(et),at=function(e){function t(){var e,a;Object(u.a)(this,t);for(var n=arguments.length,s=new Array(n),o=0;o<n;o++)s[o]=arguments[o];return(a=Object(d.a)(this,(e=Object(m.a)(t)).call.apply(e,[this].concat(s)))).state={searchTerm:"",searchMatches:[],taggedHeadphones:[],profileId:""},a.onHeadphoneSearchInput=function(e){a.setState({searchTerm:e.target.value}),e.target.value.length>0&&a.props.listOfHeadphones?a.searchForHeadphones(e.target.value):a.setState({searchMatches:[]})},a.searchForHeadphones=function(e){var t=e.replace(/\s/g,"").split("").join(".*"),n=new RegExp(t,"i"),r=a.props.listOfHeadphones.filter(function(e){return n.test(e.brandAndModel)});a.state.taggedHeadphones.length>0&&(r=r.filter(function(e){return a.state.taggedHeadphones.some(function(t){return t.brandAndModel!==e.brandAndModel})})),r=r.slice(0,4),a.setState({searchMatches:r})},a.renderSuggestionsFromMatches=function(){return a.state.searchMatches.map(function(e){return r.a.createElement("button",{key:e.brandAndModel,onClick:function(){return a.addTaggedHeadphone(e.brandAndModel)}},e.brandAndModel)})},a.addTaggedHeadphone=function(e){a.setState({taggedHeadphones:Object(y.a)(a.state.taggedHeadphones).concat([{brandAndModel:e,rating:0}]),searchTerm:"",searchMatches:[]},function(){a.props.updateHeadphoneRating(a.props.profileId,{headphones:a.state.taggedHeadphones})})},a.removeTaggedHeadphone=function(e){var t=a.state.taggedHeadphones.filter(function(t){return t.brandAndModel!==e});a.setState({taggedHeadphones:t},function(){a.props.updateHeadphoneRating(a.props.profileId,{headphones:a.state.taggedHeadphones})})},a.renderTaggedHeadphones=function(){return Object(y.a)(a.state.taggedHeadphones).sort(function(e,t){return e.brandAndModel<t.brandAndModel?-1:1}).map(function(e){var t=e.brandAndModel,n=e.rating;return r.a.createElement("div",{className:"personal-headphones__tagged-headphone",key:t},t,r.a.createElement("i",{className:n>0?"fas fa-heart":"far fa-heart",onClick:function(){return 1===n?a.onHeartClick(t,0):a.onHeartClick(t,1)}}),r.a.createElement("i",{className:n>1?"fas fa-heart":"far fa-heart",onClick:function(){return a.onHeartClick(t,2)}}),r.a.createElement("i",{className:n>2?"fas fa-heart":"far fa-heart",onClick:function(){return a.onHeartClick(t,3)}}),r.a.createElement("i",{className:n>3?"fas fa-heart":"far fa-heart",onClick:function(){return a.onHeartClick(t,4)}}),r.a.createElement("i",{className:n>4?"fas fa-heart":"far fa-heart",onClick:function(){return a.onHeartClick(t,5)}}),a.props.isOwner?r.a.createElement("i",{className:"fas fa-times",onClick:function(){return a.removeTaggedHeadphone(t)}}):null)})},a.onHeartClick=function(e,t){if(a.props.isOwner){var n=a.state.taggedHeadphones.find(function(t){return t.brandAndModel===e}),r=a.state.taggedHeadphones.filter(function(t){return t.brandAndModel!==e});n.rating=t,a.setState({taggedHeadphones:Object(y.a)(r).concat([n])},function(){a.props.updateHeadphoneRating(a.props.profileId,{headphones:a.state.taggedHeadphones})})}},a}return Object(h.a)(t,e),Object(p.a)(t,[{key:"componentDidMount",value:function(){this.props.fetchListOfHeadphones()}},{key:"render",value:function(){return r.a.createElement("div",{className:"personal-headphones"},this.props.isOwner?r.a.createElement("input",{type:"text",value:this.state.searchTerm,onChange:this.onHeadphoneSearchInput}):null,this.renderSuggestionsFromMatches(),this.renderTaggedHeadphones())}}],[{key:"getDerivedStateFromProps",value:function(e,t){return t.profileId!==e.profileId&&e.headphones?{taggedHeadphones:e.headphones,profileId:e.profileId}:null}}]),t}(r.a.Component),nt=Object(c.b)(function(e){return{listOfHeadphones:e.listOfHeadphones,currentUser:e.currentUser}},{fetchListOfHeadphones:C,updateHeadphoneRating:function(e,t){return function(){var a=Object(k.a)(O.a.mark(function a(n){var r;return O.a.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,a.next=3,j.a.put("/user-profile/".concat(e),t);case 3:return r=a.sent,a.next=6,n(U(r.data.userId));case 6:n({type:"UPDATED_USER_PROFILE"}),a.next=12;break;case 9:a.prev=9,a.t0=a.catch(0),n(M(a.t0.response.data));case 12:case"end":return a.stop()}},a,this,[[0,9]])}));return function(e){return a.apply(this,arguments)}}()}})(at),rt=function(e){function t(){var e,a;Object(u.a)(this,t);for(var n=arguments.length,s=new Array(n),o=0;o<n;o++)s[o]=arguments[o];return(a=Object(d.a)(this,(e=Object(m.a)(t)).call.apply(e,[this].concat(s)))).state={subject:"",message:"",replyTo:null},a.renderReplyUsername=function(){if(!a.state.replyTo)return null;var e=a.state.replyTo.fromUsername;return r.a.createElement("div",null,r.a.createElement("div",null,"Replying to ",e))},a.postPrivateMessage=Object(k.a)(O.a.mark(function e(){var t,n;return O.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(t={toUserId:a.state.replyTo?a.state.replyTo.fromUserId:a.props.userId,body:{subject:a.state.subject,message:a.state.message,fromUsername:a.props.currentUser.username,fromUserId:a.props.currentUser.id}},a.state.subject&&a.state.message){e.next=5;break}a.props.addGlobalError("Your message needs a subject and some content... Do not become a spammer...Or Else."),e.next=16;break;case 5:return e.prev=5,e.next=8,j.a.post("/user-profile/".concat(a.props.profileId,"/message"),t);case 8:n=e.sent,console.log(n),a.props.turnOff(),e.next=16;break;case 13:e.prev=13,e.t0=e.catch(5),a.props.addGlobalError(e.t0.response.data);case 16:case"end":return e.stop()}},e,this,[[5,13]])})),a}return Object(h.a)(t,e),Object(p.a)(t,[{key:"checkLogin",value:function(){if(this.props.currentUser)return null;E.go(0)}},{key:"render",value:function(){var e=this;return r.a.createElement("div",null,this.renderReplyUsername(),r.a.createElement("input",{type:"text",value:this.state.subject,onChange:function(t){return e.setState({subject:t.target.value})}}),r.a.createElement("input",{type:"text",value:this.state.message,onChange:function(t){return e.setState({message:t.target.value})}}),r.a.createElement("button",{onClick:this.postPrivateMessage},"Send"),this.checkLogin())}}],[{key:"getDerivedStateFromProps",value:function(e,t){return e.replyTo&&!t.replyTo?{replyTo:Object(re.a)({},e.replyTo),subject:e.replyTo.subject.includes("RE:")?e.replyTo.subject:"RE: ".concat(e.replyTo.subject)}:null}}]),t}(r.a.Component),st=Object(c.b)(function(e){return{currentUser:e.currentUser}},{addGlobalError:M})(rt),ot=(a(108),function(e){function t(){var e,a;Object(u.a)(this,t);for(var n=arguments.length,s=new Array(n),o=0;o<n;o++)s[o]=arguments[o];return(a=Object(d.a)(this,(e=Object(m.a)(t)).call.apply(e,[this].concat(s)))).state={editActive:!1,privateMessageActive:!1,replyTo:null,isOwner:null,userId:""},a.checkAuthorization=function(){null===a.state.isOwner&&a.props.currentUser&&(a.props.currentUser.id===a.props.match.params.id?a.setState({isOwner:!0,userId:a.props.match.params.id}):a.setState({isOwner:!1,userId:a.props.match.params.id}))},a.renderPrivateMessages=function(e){return e.map(function(e){return r.a.createElement("div",{key:e._id},r.a.createElement("h3",null,e.subject),r.a.createElement("h6",{onClick:function(){E.push("/user/".concat(e.fromUserId))}},"From ",e.fromUsername),r.a.createElement("i",{className:"fas fa-reply",onClick:function(){return a.setState({replyTo:Object(re.a)({},e),privateMessageActive:!0})}}),r.a.createElement("p",null,e.message))})},a.activatePrivateMessage=function(){a.props.currentUser?!1===a.state.isOwner&&a.setState({privateMessageActive:!0}):E.push("/login")},a.turnOffInterfaces=function(){a.setState({editActive:!1,privateMessageActive:!1,replyTo:null}),a.props.fetchUserProfile(a.props.match.params.id)},a}return Object(h.a)(t,e),Object(p.a)(t,[{key:"componentDidMount",value:function(){var e=this;this.setState({userId:this.props.match.params.id},function(){return e.props.fetchUserProfile(e.props.match.params.id)})}},{key:"componentDidUpdate",value:function(){this.checkAuthorization()}},{key:"renderPosts",value:function(e){var t=this;return e.map(function(e){return r.a.createElement("div",{key:e._id},"POSTS",r.a.createElement("h3",{onClick:function(){return t.props.redirectToMainPost(e)}},e.title),r.a.createElement("p",null,e.content.substring(0,100)),r.a.createElement("div",null,r.a.createElement("span",null,"Votes ",e.vote.count," "),r.a.createElement(Q.a,{fromNow:!0},e.created)),t.props.currentUser&&e.author.id===t.props.currentUser.id?r.a.createElement("i",{className:"fas fa-edit",onClick:function(){return E.push("/posts/".concat(e._id,"/edit"))}}):null)})}},{key:"render",value:function(){var e=this;if(!this.props.profile)return r.a.createElement("div",null,"Loading");var t=this.props.profile,a=t.username,n=t.posts,s=t.picture,o=t._id,c=t.headphones,i=t.created,l=t.userId,u=t.privateMessages;return r.a.createElement("div",{className:"dashboard"},r.a.createElement("h1",null,a),r.a.createElement(Q.a,{fromNow:!0},i),r.a.createElement(nt,{headphones:c,profileId:o,isOwner:this.state.isOwner}),s?r.a.createElement("img",{className:"dashboard__picture",src:s,alt:"profile"}):null,this.renderPrivateMessages(u),this.state.isOwner?null:r.a.createElement("i",{className:"fas fa-envelope",onClick:this.activatePrivateMessage}),this.state.privateMessageActive?r.a.createElement(st,{userId:l,profileId:o,turnOff:this.turnOffInterfaces,replyTo:this.state.replyTo?this.state.replyTo:null}):null,this.renderPosts(n),this.state.isOwner?r.a.createElement("button",{onClick:function(){return e.setState({editActive:!0})}},"Upload Avatar"):null,this.state.editActive?r.a.createElement(tt,{profileId:o,turnOff:this.turnOffInterfaces}):null)}}],[{key:"getDerivedStateFromProps",value:function(e,t){return t.userId!==e.match.params.id?(e.fetchUserProfile(e.match.params.id),{isOwner:null}):null}}]),t}(r.a.Component)),ct=Object(c.b)(function(e){var t;return e.currentUser&&e.userProfile&&e.currentUser.id===e.userProfile.userId?t=e.userProfile:e.userProfile&&(t=Object(re.a)({},e.userProfile,{privateMessages:[]})),{profile:t,currentUser:e.currentUser}},{fetchUserProfile:U,redirectToMainPost:S})(ot),it=Object(c.b)(function(e){return{currentUser:e.currentUser}})(function(e){var t=e.currentUser;return t&&E.push("/user/".concat(t.id)),r.a.createElement("div",null,"Are you new here?",r.a.createElement(Pe,{redirectIfDone:!0}),"Or do you have an existing account?",r.a.createElement(Me,{redirectIfDone:!0}))}),lt=(a(110),function(e){function t(){return Object(u.a)(this,t),Object(d.a)(this,Object(m.a)(t).apply(this,arguments))}return Object(h.a)(t,e),Object(p.a)(t,[{key:"componentDidMount",value:function(){this.props.current||this.props.checkUser()}},{key:"render",value:function(){return r.a.createElement("div",{className:"check-auth"},this.props.current?"Log In status ".concat(this.props.current.username):"MEH")}}]),t}(r.a.Component)),ut=Object(c.b)(function(e){return{current:e.currentUser}},{checkUser:function(){return function(){var e=Object(k.a)(O.a.mark(function e(t){var a;return O.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,j.a.get("/user");case 3:a=e.sent,t({type:"CURRENT_USER",payload:a.data}),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),t(M(e.t0.response.data));case 10:case"end":return e.stop()}},e,this,[[0,7]])}));return function(t){return e.apply(this,arguments)}}()}})(lt),pt=(a(112),function(e){function t(){return Object(u.a)(this,t),Object(d.a)(this,Object(m.a)(t).apply(this,arguments))}return Object(h.a)(t,e),Object(p.a)(t,[{key:"componentDidMount",value:function(){this.props.fetchListOfHeadphones()}},{key:"componentDidUpdate",value:function(){this.props.listOfHeadphones||this.props.fetchListOfHeadphones()}},{key:"render",value:function(){return r.a.createElement(f.a,{history:E},r.a.createElement("div",null,r.a.createElement(v.a,null,r.a.createElement(g.a,{path:"/",exact:!0,component:I}),r.a.createElement(g.a,{path:"/arena",component:pe}),r.a.createElement(g.a,{path:"/headphones/new",component:he}),r.a.createElement(g.a,{path:"/headphones/edit",component:be}),r.a.createElement(g.a,{path:"/forum",component:we}),r.a.createElement(g.a,{path:"/posts/new",component:Je}),r.a.createElement(g.a,{exact:!0,path:"/posts/:id",component:We}),r.a.createElement(g.a,{path:"/posts/:id/edit",component:Xe}),r.a.createElement(g.a,{path:"/posts/:id/delete",component:Ze}),r.a.createElement(g.a,{path:"/blacksmith",component:$e}),r.a.createElement(g.a,{path:"/login",component:it}),r.a.createElement(g.a,{path:"/user/:id",component:ct})),r.a.createElement(ut,null),r.a.createElement(G,null),r.a.createElement(q,null)))}}]),t}(r.a.Component)),dt=Object(c.b)(function(e){return{listOfHeadphones:e.listOfHeadphones}},{fetchListOfHeadphones:C})(pt),mt=Object(i.c)({listOfHeadphones:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"FETCHED_LIST_OF_HEADPHONES":return t.payload;default:return e}},listOfSelectedHeadphones:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0;return"HEADPHONE_SELECTED"===t.type&&e.every(function(e){return e.brandAndModel!==t.payload.brandAndModel})?Object(y.a)(e).concat([t.payload]):"HEADPHONE_REMOVED"===t.type?e.filter(function(e){return e!==t.payload}):e},fullHeadphones:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"FETCHED_FULL_HEADPHONE":return e.some(function(e){return e._id===t.payload._id})?e:Object(y.a)(e).concat([t.payload]);default:return e}},topPosts:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"FETCHED_TOP_POSTS":return e.some(function(e){return e.headphone===t.payload.headphone})?e:Object(y.a)(e).concat([t.payload]);default:return e}},forumPosts:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"FETCHED_FORUM_POSTS":return t.payload;default:return e}},forumSearchTerm:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"FORUM_SEARCH_TERM":return t.payload;default:return e}},forumSearchPosts:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"FETCHED_UNPOPULATED_SEARCH_POSTS":return t.payload;case"FETCHED_SEARCH_POSTS":return t.payload.map(function(e){var t=0;return e.replies&&e.replies.forEach(function(e){t++,e.replies&&e.replies.forEach(function(e){t++,e.replies&&e.replies.forEach(function(e){t++,e.replies&&e.replies.forEach(function(e){t++})})})}),Object(re.a)({},e,{totalReplies:t})});default:return e}},post:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"FETCHED_POST":return t.payload;default:return e}},userProfile:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"FETCHED_USER_PROFILE":return t.payload;default:return e}},currentUser:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"CURRENT_USER":return t.payload?{username:t.payload.username,id:t.payload._id}:null;default:return e}},globalError:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"ERROR_MESSAGE":return t.payload;default:return e}}}),ht=Object(i.d)(mt,Object(i.a)(l.a));o.a.render(r.a.createElement(c.a,{store:ht},r.a.createElement(dt,null)),document.querySelector("#root"))},40:function(e,t,a){e.exports=a(115)},74:function(e,t,a){},76:function(e,t,a){},78:function(e,t,a){},82:function(e,t,a){},84:function(e,t,a){},86:function(e,t,a){},88:function(e,t,a){},90:function(e,t,a){},92:function(e,t,a){},94:function(e,t,a){},98:function(e,t,a){}},[[40,2,1]]]);
//# sourceMappingURL=main.91170373.chunk.js.map